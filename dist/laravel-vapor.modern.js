import e from"axios";function t(){return t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},t.apply(this,arguments)}let s=()=>{try{return process.env.MIX_VAPOR_ASSET_URL?process.env.MIX_VAPOR_ASSET_URL:""}catch(e){throw console.error("Unable to automatically resolve the asset URL. Use Vapor.withBaseAssetUrl() to specify it manually."),e}};var r=new class{asset(e){return s()+"/"+e}withBaseAssetUrl(e){s=()=>e||""}async store(s,r={}){const a=r.httpClient?r.httpClient:e,o=await a.post(r.signedStorageUrl?r.signedStorageUrl:"/vapor/signed-storage-url",t({bucket:r.bucket||"",content_type:r.contentType||s.type,expires:r.expires||"",visibility:r.visibility||""},r.data),t({baseURL:r.baseURL||null,headers:r.headers||{}},r.options));let n=o.data.headers;"Host"in n&&delete n.Host,void 0===r.progress&&(r.progress=()=>{});const i=r.cancelToken||"";return await a.put(o.data.url,s,{cancelToken:i,headers:n,onUploadProgress:e=>{r.progress(e.loaded/e.total)}}),o.data.extension=s.name.split(".").pop(),o.data}};export{r as default};
//# sourceMappingURL=laravel-vapor.modern.js.map
