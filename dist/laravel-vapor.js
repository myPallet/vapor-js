function e(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var t=e(require("axios"));function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.apply(this,arguments)}var n=function(){try{return process.env.MIX_VAPOR_ASSET_URL?process.env.MIX_VAPOR_ASSET_URL:""}catch(e){throw console.error("Unable to automatically resolve the asset URL. Use Vapor.withBaseAssetUrl() to specify it manually."),e}},o=new(function(){function e(){}var o=e.prototype;return o.asset=function(e){return n()+"/"+e},o.withBaseAssetUrl=function(e){n=function(){return e||""}},o.store=function(e,n){void 0===n&&(n={});try{var o=n.httpClient?n.httpClient:t.default;return Promise.resolve(o.post(n.signedStorageUrl?n.signedStorageUrl:"/vapor/signed-storage-url",r({bucket:n.bucket||"",content_type:n.contentType||e.type,expires:n.expires||"",visibility:n.visibility||""},n.data),r({baseURL:n.baseURL||null,headers:n.headers||{}},n.options))).then(function(t){var r=t.data.headers;return"Host"in r&&delete r.Host,void 0===n.progress&&(n.progress=function(){}),Promise.resolve(o.put(t.data.url,e,{cancelToken:n.cancelToken||"",headers:r,onUploadProgress:function(e){n.progress(e.loaded/e.total)}})).then(function(){return t.data.extension=e.name.split(".").pop(),t.data})})}catch(e){return Promise.reject(e)}},e}());module.exports=o;
//# sourceMappingURL=laravel-vapor.js.map
